<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8">
    <title>AR Egresados 2024</title>
    
    <!-- MindAR (igual que Baldosas) -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      
      .info-panel {
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        font-family: Arial, sans-serif;
        z-index: 999;
        max-width: 90%;
        text-align: center;
      }
      
      #loading {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px 40px;
        border-radius: 10px;
        font-family: Arial, sans-serif;
        z-index: 1000;
      }
    </style>
  </head>

  <body>
    <div id="loading">
      <p>ðŸŽ“ Cargando experiencia AR...</p>
      <p style="font-size: 12px;">ApuntÃ¡ la cÃ¡mara al marker</p>
    </div>
    
    <div class="info-panel" id="info-panel" style="display: none;">
      ðŸŽ“ ApuntÃ¡ la cÃ¡mara al marker Hiro
    </div>

    <!-- Escena con MindAR (igual que Baldosas) -->
    <a-scene 
      mindar-image="imageTargetSrc: ./targets.mind; filterMinCF: 0.0001; filterBeta: 0.001;"
      color-space="sRGB" 
      renderer="colorManagement: true, physicallyCorrectLights" 
      vr-mode-ui="enabled: false" 
      device-orientation-permission-ui="enabled: false">
      
      <!-- CÃ¡mara (igual que Baldosas) -->
      <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" raycaster="far: 10000; objects: .clickable"></a-camera>

      <!-- Target 0 -->
      <a-entity mindar-image-target="targetIndex: 0">
        
        <!-- Plano de fondo -->
        <a-plane 
          position="0 0 0" 
          height="0.8" 
          width="1.2" 
          rotation="0 0 0"
          color="#667eea"
          opacity="0.3">
        </a-plane>
        
        <!-- TÃ­tulo -->
        <a-text 
          value="FELICITACIONES" 
          position="0 0.3 0" 
          align="center" 
          color="#FFD700" 
          width="1.5"
          wrap-count="30">
        </a-text>
        
        <!-- SubtÃ­tulo -->
        <a-text 
          value="EGRESADOS 2024" 
          position="0 0.1 0" 
          align="center" 
          color="#FFFFFF" 
          width="1.2"
          wrap-count="30">
        </a-text>
        
        <!-- Copa -->
        <a-entity position="0 -0.2 0" scale="0.15 0.15 0.15">
          <a-cylinder color="#FFD700" height="0.25" radius="0.7" metalness="0.9" roughness="0.1"></a-cylinder>
          <a-cone color="#FFD700" height="1.8" radius-bottom="0.55" radius-top="0.85" position="0 1 0" metalness="0.9" roughness="0.1" animation="property: rotation; to: 0 360 0; dur: 5000; easing: linear; loop: true"></a-cone>
          <a-torus color="#FFD700" radius="0.65" radius-tubular="0.08" position="0 1.4 0" rotation="90 0 0" metalness="0.9" roughness="0.1"></a-torus>
        </a-entity>
        
        <!-- Fuegos artificiales -->
        <a-entity position="0 0.5 0">
          <a-sphere color="#FF6B6B" radius="0.02" position="-0.4 0 0" animation="property: position; to: -0.6 0.3 0.1; dur: 1200; easing: easeOutQuad; loop: true" animation__opacity="property: opacity; to: 0; dur: 1200; easing: easeOutQuad; loop: true"></a-sphere>
          <a-sphere color="#4ECDC4" radius="0.02" position="-0.4 0 0" animation="property: position; to: -0.5 0.25 -0.1; dur: 1300; delay: 100; easing: easeOutQuad; loop: true" animation__opacity="property: opacity; to: 0; dur: 1300; delay: 100; easing: easeOutQuad; loop: true"></a-sphere>
          <a-sphere color="#95E1D3" radius="0.02" position="0.4 0 0" animation="property: position; to: 0.6 0.3 -0.1; dur: 1200; easing: easeOutQuad; loop: true" animation__opacity="property: opacity; to: 0; dur: 1200; easing: easeOutQuad; loop: true"></a-sphere>
          <a-sphere color="#F38181" radius="0.02" position="0.4 0 0" animation="property: position; to: 0.5 0.35 0.1; dur: 1400; delay: 150; easing: easeOutQuad; loop: true" animation__opacity="property: opacity; to: 0; dur: 1400; delay: 150; easing: easeOutQuad; loop: true"></a-sphere>
        </a-entity>
        
        <!-- Estrellas -->
        <a-octahedron color="#FFD700" radius="0.04" position="0.4 0.25 0" animation="property: rotation; to: 0 360 360; dur: 3000; easing: linear; loop: true" animation__scale="property: scale; to: 1.3 1.3 1.3; dur: 1000; dir: alternate; easing: easeInOutSine; loop: true"></a-octahedron>
        <a-octahedron color="#FFD700" radius="0.04" position="-0.4 0.25 0" animation="property: rotation; to: 0 360 360; dur: 3500; easing: linear; loop: true" animation__scale="property: scale; to: 1.3 1.3 1.3; dur: 1200; dir: alternate; easing: easeInOutSine; loop: true"></a-octahedron>
        
        <!-- Mensaje -->
        <a-text 
          value="Â¡Lo lograron!" 
          position="0 -0.35 0" 
          align="center" 
          color="#FF69B4" 
          width="1"
          scale="0.8 0.8 0.8"
          wrap-count="30">
        </a-text>
        
      </a-entity>
    </a-scene>

    <script>
      const sceneEl = document.querySelector('a-scene');
      
      sceneEl.addEventListener('loaded', () => {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('info-panel').style.display = 'block';
        console.log('Escena AR cargada');
      });

      document.addEventListener('DOMContentLoaded', () => {
        const target = document.querySelector('[mindar-image-target]');
        
        if (target) {
          target.addEventListener('targetFound', event => {
            console.log('Marker detectado!');
            document.getElementById('info-panel').innerHTML = 'ðŸŽ‰ Â¡FELICITACIONES EGRESADOS! ðŸŽ‰';
          });
          
          target.addEventListener('targetLost', event => {
            console.log('Marker perdido');
            document.getElementById('info-panel').innerHTML = 'ðŸŽ“ ApuntÃ¡ la cÃ¡mara al marker';
          });
        }
      });
    </script>
  </body>
</html>
